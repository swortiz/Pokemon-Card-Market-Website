<!DOCTYPE html>
<html lang="en">
  <head>
        <meta charset="utf-8" />
        <title>Pokémon Card Market</title>
        <link rel="stylesheet" href="./styles/reset.css" />
	<link rel="stylesheet" href="./styles/page.css" />
  
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Roboto+Condensed:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
        </head>
  <body>
    <header>
      <h1>Welcome to the Pokémon Card Market</h1>
      <label id="darkmode-toggle">
        <input type="checkbox" autocomplete="off" />
	Dark mode
      </label>
      <svg class="icon" width="50" height="50">
        <use href="./icons/pokemon.svg#pokemon-icon"></use>
      </svg>
    </header>

    <main>
      <aside>
        <h2>Best Seller Pokémon</h2>
      		<pkm-list src="/data/cards.json></pkm-list>
	</aside>
     </main>
     <script>
	const label = document.querySelector('#darkmode-toggle');
	label.onchange = (event) => {
		event.stopPropagation();
		const isChecked = event.target.checked;

		const customEvent = new CustomEvent('darkmode:toggle', {
			bubbles: true,
			detail: {checked: isChecked},
		});
		label.dispatchEvent(customEvent);
	};
	document.body.addEventListener('darkmode:toggle', (event) => {
		const isDark = event.detail.checked;

		if (isDark) {
			document.body.classList.add('dark-mode');
		}else{
			document.body.classList.remove('dark-mode');
		}
	});
     </script>
     <script type="module">
	import { define } from "@calpoly/mustang";
	import { PkmCardElement } from "/src/pkm-card.js";
	import { PkmListElement } from "/src/pkm-list.js";
	
	define({
		"pkm-card": PkmCardElement,
		"pkm-list": PkmListElement
	});
     </script>
   </body>
</html>
~             
